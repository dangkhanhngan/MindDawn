<!DOCTYPE html>
<html lang="vi">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>ƒê·ªìng H·ªì ƒê·∫øm Ng∆∞·ª£c - C√¢y N·∫£y M·∫ßm - Cho H·ªçc Sinh THPT - 25 ph√∫t</title>
  <style>
    :root{
      --bg1: #e0f7fa;
      --bg2: #ffffff;
      --accent: #2e7d32;
      --card-bg: rgba(255,255,255,0.95);
    }

    *{box-sizing: border-box;}
    html,body{
      height:100%;
      margin:0;
      padding:0;
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
      background: linear-gradient(135deg,var(--bg1),var(--bg2));
      color:#333;
    }

    /* Layout: main content centered, footer at bottom */
    .page {
      min-height: 100vh;
      display: flex;
      flex-direction: column;
    }

    main {
      flex: 1;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      padding: 24px;
    }

    header h1{
      margin: 6px 0 10px;
      color: var(--accent);
      font-size: 34px;
      text-align:center;
    }

    .timer {
      font-size: 56px;
      margin: 12px 0 18px;
      font-weight: 700;
      color: #1b5e20;
    }

    .buttons{
      margin-bottom: 18px;
    }

    button{
      padding: 12px 22px;
      font-size: 18px;
      margin: 6px;
      border-radius: 10px;
      border: none;
      cursor: pointer;
      transition: transform .12s ease, box-shadow .12s ease;
    }
    button:active{ transform: translateY(1px); }
    #startBtn{ background:#4CAF50; color:#fff; }
    #startBtn:hover{ filter:brightness(.95); }
    #endBtn{ background:#f44336; color:#fff; }
    #endBtn:hover{ filter:brightness(.95); }

    /* Frame gi·ªØ t·ªâ l·ªá 16:9 cho v√πng ·∫£nh (fallback padding-top) */
    .stage-frame{
      width: min(820px, 92%);
      background: var(--card-bg);
      border-radius: 14px;
      box-shadow: 0 6px 18px rgba(0,0,0,0.08);
      padding: 18px;
      display: flex;
      flex-direction: column;
      align-items: center;
      gap: 12px;
    }

    /* modern: aspect-ratio */
    .image-area{
      width: 100%;
      border-radius: 10px;
      overflow: hidden;
      display:flex;
      align-items:center;
      justify-content:center;
      background: linear-gradient(180deg,#fbfffb,#f1fff4);
    }
    .image-area .ratio {
      width: 100%;
    }
    /* use aspect-ratio if supported */
    .aspect {
      aspect-ratio: 16 / 9;
      display:flex;
      align-items:center;
      justify-content:center;
      width: 100%;
      position: relative;
    }
    /* fallback for very old browsers: padding-top trick */
    .aspect.fallback {
      height:0;
      padding-top: calc(9 / 16 * 100%);
    }

    /* image styling */
    #plantImage{
      max-width: 100%;
      max-height: 100%;
      width: auto;
      height: auto;
      display: none; /* shown by JS when needed */
      position: absolute;
      left: 50%;
      top: 50%;
      transform: translate(-50%,-50%) scale(1);
      object-fit: contain; /* important: kh√¥ng crop, gi·ªØ t·ªâ l·ªá */
      transition: opacity .6s ease, transform .45s ease;
      opacity: 0;
    }

    .stage-msg {
      font-size: 22px;
      font-weight: 700;
      color:#2e7d32;
      text-align:center;
      min-height: 28px;
    }

    footer{
      background: rgba(255,255,255,0.95);
      border-top: 3px solid #a5d6a7;
      padding: 18px 20px;
      text-align: center;
      font-size: 15px;
      line-height: 1.6;
    }

    footer h2{
      margin: 0 0 8px;
      color:#1b5e20;
      font-size: 20px;
    }

    footer p{
      margin:0 auto;
      max-width: 1000px;
      text-align: justify;
    }

    /* Responsive adjustments */
    @media (max-width: 900px){
      .timer{ font-size:48px; }
      header h1{ font-size:28px; }
      .stage-msg{ font-size:20px; }
    }

    @media (max-width: 480px){
      .timer{ font-size:40px; }
      button{ padding:10px 16px; font-size:16px; }
      header h1{ font-size:22px; }
      .stage-frame{ padding:12px; border-radius:10px; }
      footer{ font-size:14px; padding:14px; }
    }
  </style>
</head>
<body>
  <div class="page">
    <main>
      <header>
        <h2 style="color:#e71d0b; text-align:center; margin-bottom:6px;">
            üëã CH√ÄO M·ª™NG C√ÅC B·∫†N ƒê·∫æN T·ª™ TR∆Ø·ªúNG TRUNG H·ªåC PH·ªî TH√îNG !!! üëã
        </h2>
        <h1>üå± C√°c b·∫°n nh·∫•p v√†o "START" ƒë·ªÉ tr·ªìng c√¢y nh√©! üå≥</h1>
      </header>

      <div class="timer" id="timer">00:25</div>

      <div class="buttons">
        <button id="startBtn">START</button>
        <button id="endBtn" disabled>END</button>
      </div>

      <div class="stage-frame" role="region" aria-label="Khu v·ª±c hi·ªÉn th·ªã c√¢y">
        <div class="stage-msg" id="message"></div>

        <div class="image-area">
          <!-- aspect div gi·ªØ t·ª∑ l·ªá; plantImage positioned absolute inside -->
          <div class="aspect" id="aspectBox">
            <img id="plantImage" src="" alt="H√¨nh c√¢y / h·∫°t" />
          </div>
        </div>
      </div>
    </main>

    <footer>
      <h2>ƒê√°nh Tan M√†n S∆∞∆°ng: N√¢ng Cao T·∫≠p Trung H·ªçc T·∫≠p Cho H·ªçc Sinh, Sinh Vi√™n</h2>
      <p>
        H·ªôi ch·ª©ng "Brain Fog" hay t√¨nh tr·∫°ng m·∫•t t·∫≠p trung k√©o d√†i ƒëang tr·ªü th√†nh m·ªôt th√°ch th·ª©c nghi√™m tr·ªçng ƒë·ªëi v·ªõi h·ªçc sinh, sinh vi√™n hi·ªán nay. Kh√¥ng ch·ªâ l√† s·ª± l∆° ƒë√£ng nh·∫•t th·ªùi, ƒë√¢y l√† t√¨nh tr·∫°ng ƒë·∫ßu √≥c m∆° h·ªì, kh√≥ duy tr√¨ ch√∫ √Ω do √°p l·ª±c h·ªçc t·∫≠p, thi·∫øu ng·ªß v√† l·ªëi s·ªëng kh√¥ng l√†nh m·∫°nh. H·∫≠u qu·∫£ c·ªßa n√≥ r·∫•t l·ªõn: t·ª´ k·∫øt qu·∫£ h·ªçc t·∫≠p sa s√∫t, ·∫£nh h∆∞·ªüng ƒë·∫øn kh·∫£ nƒÉng t∆∞ duy, gi·∫£i quy·∫øt v·∫•n ƒë·ªÅ, cho ƒë·∫øn c√°c v·∫•n ƒë·ªÅ s·ª©c kh·ªèe tinh th·∫ßn nh∆∞ lo √¢u, tr·∫ßm c·∫£m. Tuy nhi√™n, b·∫°n ho√†n to√†n c√≥ th·ªÉ thay ƒë·ªïi! Kh·∫£ nƒÉng t·∫≠p trung kh√¥ng ph·∫£i l√† t√†i nƒÉng b·∫©m sinh m√† l√† m·ªôt k·ªπ nƒÉng c√≥ th·ªÉ r√®n luy·ªán. "S·ª± t·∫≠p trung l√† kh·ªüi ƒë·∫ßu c·ªßa m·ªçi th√†nh c√¥ng l·ªõn." H√£y b·∫Øt ƒë·∫ßu t·ª´ nh·ªØng thay ƒë·ªïi nh·ªè, ki√™n tr√¨ m·ªói ng√†y: thi·∫øt l·∫≠p m·ª•c ti√™u r√µ r√†ng, lo·∫°i b·ªè phi·ªÅn nhi·ªÖu, v√† d√†nh th·ªùi gian ngh·ªâ ng∆°i h·ª£p l√Ω. M·ªói n·ªó l·ª±c duy tr√¨ s·ª± ch√∫ √Ω l√† b·∫°n ƒëang x√¢y d·ª±ng "c∆° b·∫Øp" cho n√£o b·ªô. ƒê·ª´ng n·∫£n l√≤ng tr∆∞·ªõc th·∫•t b·∫°i, v√¨ "h·∫°nh ph√∫c l√† ch√¨a kh√≥a c·ªßa th√†nh c√¥ng." B·∫±ng s·ª± n·ªó l·ª±c v√† th·ª±c h√†nh, b·∫°n s·∫Ω v∆∞·ª£t qua "m√†n s∆∞∆°ng" v√† chinh ph·ª•c m·ª•c ti√™u h·ªçc t·∫≠p c·ªßa m√¨nh.
      </p>
    </footer>
  </div>

  <script>
    // --- Elements ---
    const startBtn = document.getElementById("startBtn");
    const endBtn = document.getElementById("endBtn");
    const timerEl = document.getElementById("timer");
    const messageEl = document.getElementById("message");
    const plantImage = document.getElementById("plantImage");

    // --- Config (t√™n file ·∫£nh - ƒë·∫∑t c√πng th∆∞ m·ª•c v·ªõi file html) ---
    const IMAGE_SEEDER = "thpt-trong-cay-ban-dau.png";
    const IMAGE_STAGE_1 = "thpt-trong-cay-1.png";
    const IMAGE_STAGE_2 = "thpt-trong-cay-2.png";
    const IMAGE_STAGE_3 = "thpt-trong-cay-3.png";
    const IMAGE_STAGE_4 = "thpt-trong-cay-4.png";
    const IMAGE_STAGE_5 = "thpt-trong-cay-5.png";
    const IMAGE_DEAD = "thpt-trong-cay-ket-thuc.png"; // c√¢y kh√¥ khi END gi·ªØa ch·ª´ng

    const images = [
      IMAGE_STAGE_1,
      IMAGE_STAGE_2,
      IMAGE_STAGE_3,
      IMAGE_STAGE_4,
      IMAGE_STAGE_5
    ];

    const messages = [
      "üå± H·∫°t gi·ªëng ch∆∞a n·∫£y m·∫ßm!",
      "üçÉ C·ªë l√™n, h·∫°t ƒë√£ n·∫£y m·∫ßm r·ªìi!",
      "üåø C√¢y non b·∫Øt ƒë·∫ßu kh·ªèe m·∫°nh!",
      "üå≥ C√¢y d·∫ßn tr·ªü n√™n t∆∞∆°i t·ªët!",
      "üå≥ C√¢y ƒë√£ tr∆∞·ªüng th√†nh!"
    ];

    // --- State ---
    let countdown;
    let timeLeft = 1500; // 25 ph√∫t
    let gameRunning = false;
    let stage = 0;

    // --- Helpers ---
    function updateTimerDisplay(){
      const minutes = Math.floor(timeLeft / 60);
      const seconds = timeLeft % 60;
      timerEl.textContent = `${String(minutes).padStart(2,'0')}:${String(seconds).padStart(2,'0')}`;
    }

    // show image with fade/scale, ensure it's visible on all devices
    function showImage(src, msg){
      messageEl.textContent = msg || "";
      // set src first to trigger load
      plantImage.src = src;
      plantImage.style.display = "block";   // ensure not display:none
      // reset transform/opacity quickly to animate
      plantImage.style.opacity = 0;
      plantImage.style.transform = "translate(-50%,-50%) scale(.95)";
      // give browser a tick to register
      setTimeout(() => {
        plantImage.style.opacity = 1;
        plantImage.style.transform = "translate(-50%,-50%) scale(1)";
      }, 80);
    }

    // --- Events ---
    startBtn.addEventListener("click", () => {
      // reset
      timeLeft = 1500;
      stage = 0;
      updateTimerDisplay();
      messageEl.textContent = "";
      plantImage.style.display = "none";

      gameRunning = true;
      startBtn.disabled = true;
      endBtn.disabled = false;

      // show seeder immediately
      showImage(IMAGE_SEEDER, "üë©‚Äçüåæ C√°c b·∫°n ∆°i ch√∫ng ta tr·ªìng c√¢y nh√©! ...");

      countdown = setInterval(() => {
        timeLeft--;
        updateTimerDisplay();

        // After 5 minutes have passed -> timeLeft == 1200 (1500-300)
        if (timeLeft === 1200) {
          stage = 1;
          showImage(images[stage - 1], messages[stage - 1]);
        }

        // then every 5 minutes later (when timeLeft < 1200)
        if (timeLeft % 300 === 0 && timeLeft < 1200 && timeLeft > 0) {
          stage = Math.min(stage + 1, images.length);
          showImage(images[stage - 1], messages[stage - 1]);
        }

        // finished
        if (timeLeft <= 0) {
          clearInterval(countdown);
          gameRunning = false;
          startBtn.disabled = false;
          endBtn.disabled = true;
          showImage(images[images.length - 1], "üéâCh√∫c m·ª´ng c√°c b·∫°n! C√¢y ƒë√£ tr∆∞·ªüng th√†nh r·ªìi!üéâ");
        }
      }, 1000);
    });

    endBtn.addEventListener("click", () => {
      if (!gameRunning) return;
      clearInterval(countdown);
      gameRunning = false;
      startBtn.disabled = false;
      endBtn.disabled = true;
      showImage(IMAGE_DEAD, "‚ùå B·∫°n th·ª≠ l·∫°i l·∫ßn n·ªØa nh√©! C·ªë l√™n!!!...");
    });

    // ensure timer initial value shows correct
    updateTimerDisplay();

    // Accessibility/fallback: if aspect-ratio not supported, add fallback class
    (function applyAspectFallback(){
      const test = document.createElement('div');
      if (!('aspectRatio' in test.style) && !('aspect-ratio' in test.style)) {
        // add fallback class to aspect box which can be styled with padding-top if needed
        const aspectBox = document.getElementById('aspectBox');
        aspectBox.classList.add('fallback');
      }
    })();
  </script>
</body>
</html>